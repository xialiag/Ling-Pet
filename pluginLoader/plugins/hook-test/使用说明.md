# Hook测试插件 - 使用说明

## ✨ 这是什么？

一个测试插件，在Live2D模型上方显示"hook组件成功 ✨"，验证插件系统的Hook功能。

## 🚀 如何使用？

### 1. 启动应用

```bash
npm run dev
```

### 2. 查看效果

启动后，你会在Live2D模型上方看到一个紫色渐变的文本框，显示"hook组件成功 ✨"。

## 📁 文件说明

- **index.ts** - 插件主文件（核心代码）
- **manifest.json** - 插件配置（权限声明）
- **README.md** - 详细文档
- **QUICKSTART.md** - 快速开始
- **VISUAL_GUIDE.md** - 视觉效果指南
- **使用说明.md** - 本文件

## 🎯 预期效果

```
┌─────────────────────┐
│ hook组件成功 ✨    │ ← 这个会显示在模型上方
└─────────────────────┘

      Live2D模型
```

## 🔧 技术实现

使用了插件系统的两个核心API：

1. **injectComponent** - 注入组件到Live2DAvatar前面
2. **hookComponent** - 监听Live2DAvatar的生命周期

## 💡 核心代码

```typescript
// 创建组件
const HookSuccessComponent = defineComponent({
  setup() {
    return () => h('div', { style: {...} }, 'hook组件成功 ✨')
  }
})

// 注入到Live2DAvatar前面
context.injectComponent('Live2DAvatar', HookSuccessComponent, {
  position: 'before'
})
```

## 🎨 样式特点

- 紫色渐变背景
- 白色文字
- 圆角边框
- 柔和阴影
- 淡入动画

## 🐛 调试

打开浏览器控制台（F12），会看到：

```
[Plugin:hook-test] Hook测试插件加载中...
[Plugin:hook-test] Hook测试样式已注入
[Plugin:hook-test] Hook组件已注入到Live2DAvatar
[Plugin:hook-test] Live2DAvatar组件已挂载，Hook测试组件应该已显示
```

## ✅ 成功标志

如果看到了紫色的"hook组件成功 ✨"文本，说明：
- ✅ 插件加载成功
- ✅ Hook机制工作正常
- ✅ 组件注入功能正常

## 🔄 修改插件

如果想修改插件：

1. 编辑 `index.ts` 文件
2. 运行编译命令：
   ```bash
   npm run plugin:compile pluginLoader/plugins/hook-test
   ```
3. 刷新浏览器

## 📚 更多文档

- **详细文档**: 查看 README.md
- **快速开始**: 查看 QUICKSTART.md
- **视觉指南**: 查看 VISUAL_GUIDE.md
- **完成报告**: 查看项目根目录的 HOOK_TEST_PLUGIN_COMPLETE.md

## ❓ 常见问题

**Q: 看不到Hook组件？**
A: 检查浏览器控制台是否有错误，确认Live2D模型已加载。

**Q: 如何修改显示的文字？**
A: 编辑 `index.ts` 中的 `'hook组件成功 ✨'` 文本。

**Q: 如何改变位置？**
A: 修改 `style` 中的 `top` 和 `left` 值。

**Q: 如何改变颜色？**
A: 修改 `background` 中的渐变颜色值。

## 🎉 完成！

现在你可以启动应用，看到Hook组件的效果了！

如果有任何问题，请查看详细文档或检查浏览器控制台的错误信息。
