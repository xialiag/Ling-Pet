# Bç«™è¡¨æƒ…åŒ…æ’ä»¶ - å¿«é€Ÿå¼€å§‹

## 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### 1ï¸âƒ£ ä¸‹è½½è¡¨æƒ…åŒ…ï¼ˆ2åˆ†é’Ÿï¼‰

```bash
# è¿›å…¥ä¸‹è½½å™¨ç›®å½•
cd BilibiliSuitDownload

# è¿è¡Œä¸‹è½½å™¨
./BilibiliSuitDownload_v0.4.0_alpha_fix1.exe

# é€‰æ‹©æ¨¡å¼2ï¼ˆæœç´¢ï¼‰
2

# è¾“å…¥å…³é”®è¯ï¼Œä¾‹å¦‚ï¼šæ¸…å‡‰è±¹è±¹
æ¸…å‡‰è±¹è±¹

# é€‰æ‹©è£…æ‰®å¹¶ä¸‹è½½
```

è¡¨æƒ…åŒ…ä¼šä¿å­˜åˆ° `BilibiliSuitDownload/data/suit/` ç›®å½•ã€‚

### 2ï¸âƒ£ æ‰«æè¡¨æƒ…åŒ…ï¼ˆ30ç§’ï¼‰

```bash
# è¿›å…¥æ’ä»¶ç›®å½•
cd pluginLoader/plugins/bilibili-emoji

# æ‰«æè¡¨æƒ…åŒ…
npm run scan
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
ğŸ” æ‰«æè¡¨æƒ…åŒ…...
âœ… æ‰«æå®Œæˆ
ğŸ“Š æ‰¾åˆ° 156 ä¸ªè¡¨æƒ…åŒ…
ğŸ“ 5 ä¸ªåˆ†ç±»:
   - æ¸…å‡‰è±¹è±¹
   - é›ªç‹æ¡‘
   - çœ çœ å…”
   - é’é’
   - å°çŒ«å¥³ä»†
```

### 3ï¸âƒ£ æµ‹è¯•æœç´¢ï¼ˆ30ç§’ï¼‰

```bash
# æœç´¢è¡¨æƒ…åŒ…
npm run search å¼€å¿ƒ
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
ğŸ” æœç´¢: å¼€å¿ƒ
âœ… æ‰¾åˆ° 8 ä¸ªç»“æœ:
1. å¼€å¿ƒ (static) - æ¸…å‡‰è±¹è±¹
   D:\repos\Ling-Pet-Exp\BilibiliSuitDownload\data\suit\æ¸…å‡‰è±¹è±¹\emoji_package\å¼€å¿ƒ.png
2. è¶…å¼€å¿ƒ (gif) - é›ªç‹æ¡‘
   ...
```

### 4ï¸âƒ£ å¯ç”¨æ’ä»¶ï¼ˆ1åˆ†é’Ÿï¼‰

åœ¨ä¸»ç¨‹åºçš„æ’ä»¶é…ç½®ä¸­æ·»åŠ ï¼š

```typescript
// src/main.ts æˆ– src/plugins.ts
import { registerBilibiliEmojiPlugin } from './pluginLoader/plugins/bilibili-emoji/register'

// å¯åŠ¨æ—¶æ³¨å†Œæ’ä»¶
await registerBilibiliEmojiPlugin()
```

æˆ–è€…åœ¨é…ç½®æ–‡ä»¶ä¸­å¯ç”¨ï¼š

```json
// .kiro/settings/plugins.json
{
  "enabled": [
    "llm-service",
    "bilibili-emoji"
  ]
}
```

### 5ï¸âƒ£ å¼€å§‹ä½¿ç”¨ï¼ˆ1åˆ†é’Ÿï¼‰

#### LLMè‡ªåŠ¨ä½¿ç”¨

```
ç”¨æˆ·: ä»Šå¤©å¿ƒæƒ…çœŸå¥½ï¼

LLMå†…éƒ¨:
1. search_emoji("å¼€å¿ƒ")
2. send_emoji("å¼€å¿ƒ")
3. å›å¤: "æˆ‘ä¹Ÿå¾ˆå¼€å¿ƒå‘¢ï¼"

ç”¨æˆ·çœ‹åˆ°: "æˆ‘ä¹Ÿå¾ˆå¼€å¿ƒå‘¢ï¼" + [å¼€å¿ƒè¡¨æƒ…åŒ…]
```

#### é…ç½®LLMç³»ç»Ÿæç¤ºè¯

```typescript
const systemPrompt = `ä½ æ˜¯ä¸€ä¸ªå¯çˆ±çš„æ¡Œå® ï¼Œå¯ä»¥ä½¿ç”¨è¡¨æƒ…åŒ…ã€‚

ä½¿ç”¨æ–¹æ³•ï¼š
1. ç”¨ search_emoji æœç´¢è¡¨æƒ…åŒ…
2. ç”¨ send_emoji å‘é€è¡¨æƒ…åŒ…
3. ç»§ç»­ä½ çš„å›å¤

è¡¨æƒ…åŒ…ä¼šè‡ªåŠ¨æ˜¾ç¤ºåœ¨ä½ çš„å›å¤ä¸­ã€‚`
```

#### åœ¨ä»£ç ä¸­ä½¿ç”¨

```typescript
// 1. æœç´¢è¡¨æƒ…åŒ…
const result = await context.callTool('search_emoji', {
  query: 'å¼€å¿ƒ',
  limit: 5
})

// 2. å‘é€è¡¨æƒ…åŒ…ï¼ˆä½¿ç”¨åç§°ï¼‰
if (result.success && result.result.emojis.length > 0) {
  await context.callTool('send_emoji', {
    emojiName: result.result.emojis[0].name
  })
}

// 3. å‘é€æ¶ˆæ¯ï¼ˆè¡¨æƒ…åŒ…ä¼šè‡ªåŠ¨é™„åŠ ï¼‰
await sendMessage('æˆ‘ä¹Ÿå¾ˆå¼€å¿ƒå‘¢ï¼')
```

## å¸¸ç”¨å‘½ä»¤

```bash
# æ‰«æè¡¨æƒ…åŒ…
npm run scan

# æœç´¢è¡¨æƒ…åŒ…
npm run search <å…³é”®è¯>

# åˆ—å‡ºæ‰€æœ‰åˆ†ç±»
npm run categories

# æµ‹è¯•æ’ä»¶
npm run test
```

## ç›®å½•ç»“æ„

```
BilibiliSuitDownload/data/
â””â”€â”€ suit/
    â”œâ”€â”€ æ¸…å‡‰è±¹è±¹/
    â”‚   â””â”€â”€ emoji_package/
    â”‚       â”œâ”€â”€ å¼€å¿ƒ.png
    â”‚       â”œâ”€â”€ éš¾è¿‡.png
    â”‚       â”œâ”€â”€ ç”Ÿæ°”.gif
    â”‚       â””â”€â”€ ...
    â”œâ”€â”€ é›ªç‹æ¡‘/
    â”‚   â””â”€â”€ emoji_package/
    â”‚       â””â”€â”€ ...
    â””â”€â”€ ...
```

## é…ç½®é€‰é¡¹

ç¼–è¾‘ `package.json` ä¸­çš„ `pluginConfig`ï¼š

```json
{
  "pluginConfig": {
    "dataPath": "BilibiliSuitDownload/data",
    "enableAutoScan": true,
    "maxCacheSize": 10000,
    "supportedFormats": [".png", ".jpg", ".jpeg", ".gif", ".webp"]
  }
}
```

## æ•…éšœæ’é™¤

### æ‰¾ä¸åˆ°è¡¨æƒ…åŒ…ï¼Ÿ

1. æ£€æŸ¥æ•°æ®ç›®å½•æ˜¯å¦å­˜åœ¨
2. è¿è¡Œ `npm run scan` æŸ¥çœ‹æ‰«æç»“æœ
3. ç¡®è®¤è¡¨æƒ…åŒ…åœ¨æ­£ç¡®çš„ç›®å½•ç»“æ„ä¸­

### æœç´¢ä¸åˆ°ç»“æœï¼Ÿ

1. å°è¯•ä¸åŒçš„å…³é”®è¯
2. è¿è¡Œ `npm run categories` æŸ¥çœ‹æ‰€æœ‰åˆ†ç±»
3. æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦åŒ…å«å…³é”®è¯

### æ’ä»¶åŠ è½½å¤±è´¥ï¼Ÿ

1. æ£€æŸ¥ä¾èµ–æ’ä»¶ï¼ˆllm-serviceï¼‰æ˜¯å¦å·²åŠ è½½
2. æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
3. ç¡®è®¤é…ç½®æ–‡ä»¶æ ¼å¼æ­£ç¡®

## ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯» [å®Œæ•´æ–‡æ¡£](./README.md)
- ğŸ”§ æŸ¥çœ‹ [é›†æˆæŒ‡å—](./INTEGRATION.md)
- ğŸ’¡ æŸ¥çœ‹ [ä½¿ç”¨ç¤ºä¾‹](./examples/pet-integration.ts)
- ğŸ› [æŠ¥å‘Šé—®é¢˜](https://github.com/your-repo/issues)

## æç¤º

ğŸ’¡ **æ¨èè¡¨æƒ…åŒ…**ï¼šæ¸…å‡‰è±¹è±¹ã€é›ªç‹æ¡‘ã€çœ çœ å…”ç­‰éƒ½æœ‰ä¸°å¯Œçš„è¡¨æƒ…åŒ…

ğŸ’¡ **æ‰¹é‡ä¸‹è½½**ï¼šä½¿ç”¨ BilibiliSuitDownloader å¯ä»¥ä¸€æ¬¡ä¸‹è½½æ•´ä¸ªè£…æ‰®çš„æ‰€æœ‰èµ„æº

ğŸ’¡ **è‡ªå®šä¹‰å…³é”®è¯**ï¼šç¼–è¾‘ `example-config.json` æ·»åŠ è‡ªå®šä¹‰æƒ…æ„Ÿå…³é”®è¯æ˜ å°„

ğŸ’¡ **æ€§èƒ½ä¼˜åŒ–**ï¼šå¦‚æœè¡¨æƒ…åŒ…å¾ˆå¤šï¼Œå¯ä»¥è®¾ç½® `enableAutoScan: false`ï¼Œæ‰‹åŠ¨è§¦å‘æ‰«æ

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ [FAQ](./README.md#å¸¸è§é—®é¢˜)
2. æœç´¢ [å·²çŸ¥é—®é¢˜](https://github.com/your-repo/issues)
3. æäº¤ [æ–°é—®é¢˜](https://github.com/your-repo/issues/new)

---

ğŸ‰ **äº«å—ä½¿ç”¨è¡¨æƒ…åŒ…çš„ä¹è¶£å§ï¼**
